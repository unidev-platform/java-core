subprojects {
    apply plugin: 'maven'
    apply plugin: 'java'
    apply plugin: 'idea'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    group = 'com.unidev.platform'
    version = '2.1.0-SNAPSHOT'

	repositories {
		mavenCentral()
		jcenter()
	}
    
	apply from: 'http://dev.local/gradle/defaultRepositories.groovy'
    apply from: 'http://dev.local/gradle/uploadArchives.groovy'
    apply from: 'http://dev.local/gradle/javadoc.groovy'

    dependencies {
        testCompile 'org.hamcrest:hamcrest-all:1.3'
        testCompile 'junit:junit:4.12'
        testCompile 'org.mockito:mockito-all:1.10.19'
    }
    idea {
      module {
        downloadJavadoc = true
        downloadSources = true
      }
    }
    tasks.withType(JavaCompile) {
        sourceCompatibility = "1.8"
        targetCompatibility = "1.8"
    }
    task sourcesJar(type: Jar, dependsOn: classes) {
      classifier 'sources'
      from sourceSets.main.allSource
    }
    artifacts {
      archives sourcesJar
    }
}
